import{g as t,f as e,r as n,h as o,H as s}from"./p-e9cc6040.js";const r=(t,e,n)=>{const o=t.get(e);if(!o){t.set(e,[n])}else if(!o.includes(n)){o.push(n)}};const c=(t,e)=>{let n;return(...o)=>{if(n){clearTimeout(n)}n=setTimeout((()=>{n=0;t(...o)}),e)}};const f=t=>!("isConnected"in t)||t.isConnected;const i=c((t=>{for(let e of t.keys()){t.set(e,t.get(e).filter(f))}}),2e3);const u=()=>{if(typeof t!=="function"){return{}}const n=new Map;return{dispose:()=>n.clear(),get:e=>{const o=t();if(o){r(n,e,o)}},set:t=>{const o=n.get(t);if(o){n.set(t,o.filter(e))}i(n)},reset:()=>{n.forEach((t=>t.forEach(e)));i(n)}}};const a=(t,e=((t,e)=>t!==e))=>{let n=new Map(Object.entries(t!==null&&t!==void 0?t:{}));const o={dispose:[],get:[],set:[],reset:[]};const s=()=>{n=new Map(Object.entries(t!==null&&t!==void 0?t:{}));o.reset.forEach((t=>t()))};const r=()=>{o.dispose.forEach((t=>t()));s()};const c=t=>{o.get.forEach((e=>e(t)));return n.get(t)};const f=(t,s)=>{const r=n.get(t);if(e(s,r,t)){n.set(t,s);o.set.forEach((e=>e(t,s,r)))}};const i=typeof Proxy==="undefined"?{}:new Proxy(t,{get(t,e){return c(e)},ownKeys(t){return Array.from(n.keys())},getOwnPropertyDescriptor(){return{enumerable:true,configurable:true}},has(t,e){return n.has(e)},set(t,e,n){f(e,n);return true}});const u=(t,e)=>{o[t].push(e);return()=>{d(o[t],e)}};const a=(e,n)=>{const o=u("set",((t,o)=>{if(t===e){n(o)}}));const s=u("reset",(()=>n(t[e])));return()=>{o();s()}};const p=(...t)=>{const e=t.reduce(((t,e)=>{if(e.set){t.push(u("set",e.set))}if(e.get){t.push(u("get",e.get))}if(e.reset){t.push(u("reset",e.reset))}if(e.dispose){t.push(u("dispose",e.dispose))}return t}),[]);return()=>e.forEach((t=>t()))};const l=t=>{const e=n.get(t);o.set.forEach((n=>n(t,e,e)))};return{state:i,get:c,set:f,on:u,onChange:a,use:p,dispose:r,reset:s,forceUpdate:l}};const d=(t,e)=>{const n=t.indexOf(e);if(n>=0){t[n]=t[t.length-1];t.length--}};const p=(t,e)=>{const n=a(t,e);n.use(u());return n};const l=t=>{var e;const n=window;const o=new URL(n.location.href);const s=(e=t===null||t===void 0?void 0:t.parseURL)!==null&&e!==void 0?e:g;const{state:r,onChange:c,dispose:f}=p({url:o,activePath:s(o)},((t,e,n)=>{if(n==="url"){return t.href!==e.href}return t!==e}));const i=t=>{history.pushState(null,null,t);const e=new URL(t,document.baseURI);r.url=e;r.activePath=s(e)};const u=t=>{const{activePath:e}=r;for(let n of t){const o=y(e,n.path);if(o){if(n.to!=null){const o=typeof n.to==="string"?n.to:n.to(e);i(o);return u(t)}else{return{params:o,route:n}}}}return undefined};const a=()=>{const t=new URL(n.location.href);r.url=t;r.activePath=s(t)};const d=(t,e)=>{const n=u(e);if(n){if(typeof n.route.jsx==="function"){return n.route.jsx(n.params)}else{return n.route.jsx}}};const l=()=>{n.removeEventListener("popstate",a);f()};const b={Switch:d,get url(){return r.url},get activePath(){return r.activePath},push:i,onChange:c,dispose:l};a();n.addEventListener("popstate",a);return b};const b=(t,e)=>{var n;if("to"in t){return{path:t.path,to:t.to}}return{path:t.path,id:t.id,jsx:(n=t.render)!==null&&n!==void 0?n:e}};const y=(t,e)=>{if(typeof e==="string"){if(e===t){return{}}}else if(typeof e==="function"){const n=e(t);if(n){return n===true?{}:{...n}}}else{const n=e.exec(t);if(n){e.lastIndex=0;return{...n}}}return undefined};const g=t=>t.pathname.toLowerCase();const h=l();const w=class{constructor(t){n(this,t)}render(){return o(s,{key:"9809ecf050017dee4387f5ddce73d30e8d16fb3b"},o(h.Switch,{key:"80e6a9a272117aeb64b2c9d95fb5274f8983b34e"},o(b,{key:"55c36ebad02c8f81a2a5913e24d1459baa201b1b",path:"/"},o("cd-signin",{key:"4af84d0efc3501b935d5dd5b65a2fa3a881371d5"})),o(b,{key:"b1b4cb7eb60373f7cf92f59db084a3361b7a6c1f",path:"/login"},o("ch-login",{key:"543f765735c622b8de8f62f7e87f7f4038257a87"})),o(b,{key:"a64d4678cbc81b329d51747bdf638de8cb3f93aa",path:"/product/list"},o("product-list",{key:"c7913325f0646a69cd9c7ce765a3f4b07027e012"}),o("shopping-cart",{key:"ff0e7ddd88b1533c8287350d7c66338d46636b7f"}))))}};export{w as app_rout};