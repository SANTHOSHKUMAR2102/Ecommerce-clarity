import{g as e,f as t,r as n,h as s,H as o}from"./p-e9cc6040.js";const r=(e,t,n)=>{const s=e.get(t);if(!s){e.set(t,[n])}else if(!s.includes(n)){s.push(n)}};const c=(e,t)=>{let n;return(...s)=>{if(n){clearTimeout(n)}n=setTimeout((()=>{n=0;e(...s)}),t)}};const f=e=>!("isConnected"in e)||e.isConnected;const i=c((e=>{for(let t of e.keys()){e.set(t,e.get(t).filter(f))}}),2e3);const a=()=>{if(typeof e!=="function"){return{}}const n=new Map;return{dispose:()=>n.clear(),get:t=>{const s=e();if(s){r(n,t,s)}},set:e=>{const s=n.get(e);if(s){n.set(e,s.filter(t))}i(n)},reset:()=>{n.forEach((e=>e.forEach(t)));i(n)}}};const u=(e,t=((e,t)=>e!==t))=>{let n=new Map(Object.entries(e!==null&&e!==void 0?e:{}));const s={dispose:[],get:[],set:[],reset:[]};const o=()=>{n=new Map(Object.entries(e!==null&&e!==void 0?e:{}));s.reset.forEach((e=>e()))};const r=()=>{s.dispose.forEach((e=>e()));o()};const c=e=>{s.get.forEach((t=>t(e)));return n.get(e)};const f=(e,o)=>{const r=n.get(e);if(t(o,r,e)){n.set(e,o);s.set.forEach((t=>t(e,o,r)))}};const i=typeof Proxy==="undefined"?{}:new Proxy(e,{get(e,t){return c(t)},ownKeys(e){return Array.from(n.keys())},getOwnPropertyDescriptor(){return{enumerable:true,configurable:true}},has(e,t){return n.has(t)},set(e,t,n){f(t,n);return true}});const a=(e,t)=>{s[e].push(t);return()=>{d(s[e],t)}};const u=(t,n)=>{const s=a("set",((e,s)=>{if(e===t){n(s)}}));const o=a("reset",(()=>n(e[t])));return()=>{s();o()}};const p=(...e)=>{const t=e.reduce(((e,t)=>{if(t.set){e.push(a("set",t.set))}if(t.get){e.push(a("get",t.get))}if(t.reset){e.push(a("reset",t.reset))}if(t.dispose){e.push(a("dispose",t.dispose))}return e}),[]);return()=>t.forEach((e=>e()))};const l=e=>{const t=n.get(e);s.set.forEach((n=>n(e,t,t)))};return{state:i,get:c,set:f,on:a,onChange:u,use:p,dispose:r,reset:o,forceUpdate:l}};const d=(e,t)=>{const n=e.indexOf(t);if(n>=0){e[n]=e[e.length-1];e.length--}};const p=(e,t)=>{const n=u(e,t);n.use(a());return n};const l=e=>{var t;const n=window;const s=new URL(n.location.href);const o=(t=e===null||e===void 0?void 0:e.parseURL)!==null&&t!==void 0?t:g;const{state:r,onChange:c,dispose:f}=p({url:s,activePath:o(s)},((e,t,n)=>{if(n==="url"){return e.href!==t.href}return e!==t}));const i=e=>{history.pushState(null,null,e);const t=new URL(e,document.baseURI);r.url=t;r.activePath=o(t)};const a=e=>{const{activePath:t}=r;for(let n of e){const s=y(t,n.path);if(s){if(n.to!=null){const s=typeof n.to==="string"?n.to:n.to(t);i(s);return a(e)}else{return{params:s,route:n}}}}return undefined};const u=()=>{const e=new URL(n.location.href);r.url=e;r.activePath=o(e)};const d=(e,t)=>{const n=a(t);if(n){if(typeof n.route.jsx==="function"){return n.route.jsx(n.params)}else{return n.route.jsx}}};const l=()=>{n.removeEventListener("popstate",u);f()};const b={Switch:d,get url(){return r.url},get activePath(){return r.activePath},push:i,onChange:c,dispose:l};u();n.addEventListener("popstate",u);return b};const b=(e,t)=>{var n;if("to"in e){return{path:e.path,to:e.to}}return{path:e.path,id:e.id,jsx:(n=e.render)!==null&&n!==void 0?n:t}};const y=(e,t)=>{if(typeof t==="string"){if(t===e){return{}}}else if(typeof t==="function"){const n=t(e);if(n){return n===true?{}:{...n}}}else{const n=t.exec(e);if(n){t.lastIndex=0;return{...n}}}return undefined};const g=e=>e.pathname.toLowerCase();const h=l();const w=class{constructor(e){n(this,e)}render(){return s(o,{key:"8196f25f90e84dcae4817d68e9fef71299a65d87"},s(h.Switch,{key:"ef369d2b5702b2f25795b7f46d8380ed50328990"},s(b,{key:"92f2ba935c0fc44342de5a96ae18e101f6c8ffea",path:"/"},s("cd-signin",{key:"18931935412caa25f69a144d38d0233288b74354"})),s(b,{key:"df3e972ca735bd7be0e87a9ecae238fc0439c403",path:"/signin"},s("cd-signin",{key:"73b37a426684ef290b02d1721e66682e70756356"})),s(b,{key:"9742d4a18583a6c5a24943e71274fda559f829f4",path:"/login"},s("ch-login",{key:"7bcdcd29eb4762a7abb703657ee0fd4b28682853"})),s(b,{key:"038e1e15859b5c0e8e34b106a177edfbef96fec8",path:"/product/list"},s("product-list",{key:"f91266e25eae2e604392957700839f14b5af3198"}),s("shopping-cart",{key:"4251957716a929904a8dd7a0c8cb1ed3bc5fecfb"}))))}};export{w as app_rout};