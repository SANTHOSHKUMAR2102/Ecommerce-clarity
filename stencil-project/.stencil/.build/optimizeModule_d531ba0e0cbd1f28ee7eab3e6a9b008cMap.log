{"version":3,"names":["shoppingCartCss","ShoppingCartStyle0","ShoppingCart","componentWillLoad","this","updateCartItems","onChange","closeCard","open","openCard","cartItems","store","cart","calculateTotalAmount","cartCount","totalAmount","reduce","total","item","price","quantity","cartC","removeFromCart","productId","filter","id","render","h","key","class","onClick","bind","src","alt","length","map","image","name","toFixed"],"sources":["src/components/shopping-cart/shopping-cart.css?tag=shopping-cart&encapsulation=shadow","src/components/shopping-cart/shopping-cart.tsx"],"sourcesContent":[":host {\n  display: block;\n}\n\n.shopping-cart{\n  position: fixed;\n  top: 0;\n  right: -100%;\n  bottom: 0;\n  background-color: whitesmoke;\n  z-index: 2;\n  transition: 0.4s;\n}\n\n:host([open]) .shopping-cart{\n  right: 0;\n}\n\n.shopping-cart {\n  width: 300px;\n \n}\n\n.shopping-cart h2 {\n  font-size: 1.5em;\n  margin: 0 0 10px 0;\n  padding: 20px;\n  color: white;\n  text-align: center;\n  background-color: grey;\n}\n\n.shopping-cart h4{\n  color: green;\n}\n\n.shopping-cart ul {\n  list-style: none;\n  padding: 0 5px;\n  overflow-y: auto;\n  overflow-x: hidden;\n}\n\n.shopping-cart li {\n  display: flex;\n  gap: 20px;\n  margin-bottom: 10px;\n  align-items: center;\n  position: relative;\n  border-bottom: 1px solid #ccc;\n}\n\n.shopping-cart img{\n  width: 30%;\n}\n\n.dlt-btn{\n  padding: 5px 10px;\n  font-size: 10px;\n  background-color: red;\n  border: 0;\n  border-radius: 5px;\n  color: white;\n  position: absolute;\n  top: 0;\n  right: 0;\n}\n\n.shopping-cart .empty-line{\n  text-align: center;\n}\n\n.t-box{\n  padding: 0 10px 5px;\n}\n\n.t-box button{\n  padding: 10px 20px;\n  background-color: #28a745;\n  border: 0;\n  color: white;\n}\n\n.t-box button:hover{\n  background-color: #177e2f;\n}\n\n.close-btn{\n  position: absolute;\n  top: 0;\n  border: 0;\n  padding-top: 3px;\n  background-color: transparent;\n  cursor: pointer;\n}\n\n.close-btn:hover{\n  background-color: rgb(161, 161, 161);\n}\n\n.open-buttno{\n  position: absolute;\n}\n\n/* nav styling */\n\nnav{\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  border-bottom: 1px solid;\n  border-color: #ccc;\n  background-color: white;\n  position: fixed;\n  top: 0;\n  right: 0;\n  left: 0;\n  z-index: 1;\n  padding: 0 20px;\n}\n.nav-details{\n  display: flex;\n  gap: 20px;\n  align-items: center;\n}\n.cart-tag{\n  align-items: center;\n  margin-right: 30px;\n  background-color: whitesmoke;\n  padding: 8px 10px;\n  border-radius: 20px;\n}\n.cart-tag:hover{\n  background-color: rgb(219, 219, 219);\n}\n.cart-tag span{\n  background-color: black;\n  color: white;\n  padding: 2px 5px;\n  border-radius: 20px;\n}\n.cart-tag img{\n  width: 20px;\n}\n.close-cart{\n  position: absolute;\n}","import { Component, h, Prop, State } from '@stencil/core';\nimport { store, onChange } from '../../store';\n\n\n@Component({\n  tag: 'shopping-cart',\n  styleUrl: 'shopping-cart.css',\n  shadow: true,\n})\nexport class ShoppingCart {\n  @State() cartItems = [];\n  @State() totalAmount = 0;\n  @State() cartC = 0;\n \n  @Prop({reflect: true, mutable: true})  open: boolean;\n\n  componentWillLoad() {\n    this.updateCartItems();\n    onChange('cart', () => {\n      this.updateCartItems();\n    });\n  }\n\n  closeCard() {\n    this.open = false;\n  }\n\n  openCard() {\n    if(!this.open){\n          this.open = true;\n        }\n  }\n\n  updateCartItems() {\n    this.cartItems = [...store.cart];\n    this.calculateTotalAmount();\n    this.cartCount();\n  }\n\n  calculateTotalAmount() {\n    this.totalAmount = this.cartItems.reduce((total, item) => total + item.price * item.quantity, 0);\n  }\n\n  cartCount(){\n    this.cartC = this.cartItems.reduce((total, item) => total + item.quantity, 0);\n  }\n\n  removeFromCart(productId) {\n    store.cart = store.cart.filter(item => item.id !== productId);\n  }\n\n  render() {\n    \n    return (\n      \n      <aside>\n        <header>\n      <nav>\n        <h1>Clarity</h1>\n        <div class=\"nav-details\">\n          <p class=\"cart-tag\" onClick={this.openCard.bind(this)}>\n            <img src=\"./assets/cartlogo.png\" alt=\"\" /> Cart <span>{this.cartC}</span></p>\n          <p>About</p>\n          <p>Logout</p>\n        </div>\n      </nav>\n    </header>\n        <div class=\"shopping-cart\">\n        <h2>Shopping Cart</h2>\n        <button class=\"close-btn\" onClick={this.closeCard.bind(this)}>X</button>\n        {this.cartItems.length === 0 ? (\n      <p class=\"empty-line\">Your cart is empty!!</p>\n      ) : (\n      <ul>\n        {this.cartItems.map(item => (\n          <li>\n            <img src={item.image} alt={item.name} />\n            <div>\n              <h5 class=\"p-name\">{item.name}</h5>\n              <h4 class=\"p-price\">₹{item.price.toFixed(2)}</h4>\n              <h5 class=\"p-qty\">Quantity : {item.quantity}</h5>\n            </div>\n            <button class=\"dlt-btn\" onClick={() => this.removeFromCart(item.id)}>Remove</button>\n            \n          </li>\n        ))}\n        \n      </ul>\n    )}\n        <div class=\"t-box\">\n            <p class=\"total\">Total : ₹{this.totalAmount.toFixed(2)}</p>\n            <button class=\"buy-btn\">BUY</button>               \n        </div>\n      </div>\n      </aside>\n      \n    );\n  }\n}\n"],"mappings":"iFAAA,MAAMA,EAAkB,6mDACxB,MAAAC,EAAeD,E,MCQFE,EAAY,M,wCACF,G,iBACE,E,WACN,E,oBAIjB,iBAAAC,GACEC,KAAKC,kBACLC,EAAS,QAAQ,KACfF,KAAKC,iBAAiB,G,CAI1B,SAAAE,GACEH,KAAKI,KAAO,K,CAGd,QAAAC,GACE,IAAIL,KAAKI,KAAK,CACRJ,KAAKI,KAAO,I,EAIpB,eAAAH,GACED,KAAKM,UAAY,IAAIC,EAAMC,MAC3BR,KAAKS,uBACLT,KAAKU,W,CAGP,oBAAAD,GACET,KAAKW,YAAcX,KAAKM,UAAUM,QAAO,CAACC,EAAOC,IAASD,EAAQC,EAAKC,MAAQD,EAAKE,UAAU,E,CAGhG,SAAAN,GACEV,KAAKiB,MAAQjB,KAAKM,UAAUM,QAAO,CAACC,EAAOC,IAASD,EAAQC,EAAKE,UAAU,E,CAG7E,cAAAE,CAAeC,GACbZ,EAAMC,KAAOD,EAAMC,KAAKY,QAAON,GAAQA,EAAKO,KAAOF,G,CAGrD,MAAAG,GAEE,OAEEC,EAAA,SAAAC,IAAA,4CACED,EAAA,UAAAC,IAAA,4CACFD,EAAA,OAAAC,IAAA,4CACED,EAAA,MAAAC,IAAA,uDACAD,EAAA,OAAAC,IAAA,2CAAKC,MAAM,eACTF,EAAA,KAAAC,IAAA,2CAAGC,MAAM,WAAWC,QAAS1B,KAAKK,SAASsB,KAAK3B,OAC9CuB,EAAA,OAAAC,IAAA,2CAAKI,IAAI,wBAAwBC,IAAI,KAAK,SAAMN,EAAA,QAAAC,IAAA,4CAAOxB,KAAKiB,QAC9DM,EAAA,KAAAC,IAAA,qDACAD,EAAA,KAAAC,IAAA,yDAIFD,EAAA,OAAAC,IAAA,2CAAKC,MAAM,iBACXF,EAAA,MAAAC,IAAA,6DACAD,EAAA,UAAAC,IAAA,2CAAQC,MAAM,YAAYC,QAAS1B,KAAKG,UAAUwB,KAAK3B,OAAK,KAC3DA,KAAKM,UAAUwB,SAAW,EAC7BP,EAAA,KAAGE,MAAM,cAAY,wBAErBF,EAAA,UACGvB,KAAKM,UAAUyB,KAAIjB,GAClBS,EAAA,UACEA,EAAA,OAAKK,IAAKd,EAAKkB,MAAOH,IAAKf,EAAKmB,OAChCV,EAAA,WACEA,EAAA,MAAIE,MAAM,UAAUX,EAAKmB,MACzBV,EAAA,MAAIE,MAAM,WAAS,IAAGX,EAAKC,MAAMmB,QAAQ,IACzCX,EAAA,MAAIE,MAAM,SAAO,cAAaX,EAAKE,WAErCO,EAAA,UAAQE,MAAM,UAAUC,QAAS,IAAM1B,KAAKkB,eAAeJ,EAAKO,KAAG,cAOvEE,EAAA,OAAAC,IAAA,2CAAKC,MAAM,SACPF,EAAA,KAAAC,IAAA,2CAAGC,MAAM,SAAO,YAAWzB,KAAKW,YAAYuB,QAAQ,IACpDX,EAAA,UAAAC,IAAA,2CAAQC,MAAM,WAAS,S","ignoreList":[]}